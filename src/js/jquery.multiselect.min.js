!function(d){"use strict";void 0!==d?d.fn.multiselect=function(r){return r=d.extend({selectedText:"Selected:",selectedTextMax:3,caretClass:"arrow"},r),this.each(function(){var i=!1,s=!1,e=d(this),t=d("<div>").css("position","relative"),c=d('<input type="text" class="multiselect" readonly>').change(function(){c.changeText()}),l=d('<div class="multiselect-dropdownlist">'),o=e.prop("name"),n=d('<span class="multiselect-caret">').addClass(r.caretClass).click(function(){c.focus(),l.show()});function a(){var e=c.position();l.css({left:e.left,top:e.top+c.outerHeight(),width:c.outerWidth()})}e.each(function(){d.each(this.attributes,function(e,t){"class"==t.name?c.addClass(t.value):"name"!=t.name&&c.attr(t.name,t.value)})}),t.append(c).append(n).append(l),e.after(t).remove(),window.addEventListener("resize",a),document.fonts.ready.then(a),a(),c.click(function(){l.show()}),l.show=function(){d.fn.show.apply(this,arguments),s=!0,l.unselect().scrollTop(0).children().first().addClass("selected")},l.hide=function(){d.fn.hide.apply(this,arguments),s=!1},c.blur(function(){l.hide()}),l.mouseout(function(){i||l.unselect()}),l.unselect=function(){return this.find(".selected").removeClass("selected"),this},l.rowToggle=function(e){var t=l.find(".selected input").first();return t.length&&(e?t.is(":checked")||(t.prop("checked",!0),c.trigger("change")):(t.prop("checked",!t.is(":checked")),c.trigger("change"))),this},c.changeText=function(){var e=l.find("input:checked");if(e.length<=r.selectedTextMax){for(var t=[],n=0;n<e.length;n++)t.push(e[n].nextSibling.nodeValue);c.val(t.join(", "))}else c.val(r.selectedText+" "+e.length)},l.addItem=function(e,t,n){var n=d('<input type="checkbox">').attr("name",o).attr("value",e).prop("checked",n).click(function(e){e.preventDefault()}),s=d("<div>").addClass("multiselect-item").append(n).append(t).mousedown(function(e){l.rowToggle(0),e.preventDefault()}).mouseover(function(){i||(i=!1,l.unselect(),s.addClass("selected"))}).mousemove(function(){i&&(i=!1,l.unselect(),s.addClass("selected"))});this.append(s)},e.find("option").each(function(){var e=d(this);l.addItem(e.val(),e.html(),e.is(":selected")),c.changeText()}),c.keydown(function(e){switch(e.which){case 38:return void function(e){if(s){e.preventDefault(),i=!0;var t=l.find(".selected").first();if(t.length){l.unselect();e=t.prev();if(e.length){t=e.addClass("selected").position().top,e=l.position().top-e.innerHeight();return t<e&&l.scrollTop(l.scrollTop()+e+t)}}l.scrollTop(l.get(0).scrollHeight).children().last().addClass("selected")}}(e);case 40:return void function(){if(s){i=!0;var e=l.find(".selected").first();if(e.length){l.unselect();var t=e.next();if(t.length){var n=l.outerHeight(),e=t.addClass("selected").innerHeight(),t=t.position().top+e;return n<t&&l.scrollTop(l.scrollTop()+e-l.position().top-n+t)}}l.scrollTop(0).children().first().addClass("selected")}else l.children().length&&l.show()}();case 13:return e.preventDefault(),void(s?l.rowToggle(1).hide():l.show());case 27:return void l.hide();case 32:return e.preventDefault(),void l.rowToggle(0)}})})}:console.warn("Required jQuery.")}(jQuery);