!function(a){"use strict";void 0!==a?a.fn.multiselect=function(d){return d=a.extend({selectedText:"Selected:",selectedTextMax:3,caretClass:"arrow"},d),this.each(function(){var s=!1,i=!1,e=a(this),t=a("<div>").css("position","relative"),l=a('<input type="text" class="multiselect" readonly>').addClass(e.prop("class")).prop("id",e.prop("id")),o=a('<div class="multiselect-dropdownlist">'),c=e.prop("name"),n=a('<span class="multiselect-caret">').addClass(d.caretClass).click(function(){l.focus(),o.show()});function r(){var e=l.position();o.css({left:e.left,top:e.top+l.outerHeight(),width:l.outerWidth()})}t.append(l).append(n).append(o),e.after(t).removeAttr("name").removeAttr("id").hide(),""!=e.attr("placeholder")&&l.attr("placeholder",e.attr("placeholder")),e.is(":disabled")&&l.prop("disabled",!0),window.addEventListener("resize",r),document.fonts.ready.then(r),r(),l.click(function(){o.show()}),o.show=function(){a.fn.show.apply(this,arguments),i=!0,o.unselect().scrollTop(0).children().first().addClass("selected")},o.hide=function(){a.fn.hide.apply(this,arguments),i=!1},l.blur(function(){o.hide()}),o.mouseout(function(){s||o.unselect()}),o.unselect=function(){return this.find(".selected").removeClass("selected"),this},o.rowToggle=function(){var e=o.find(".selected input").first();return e.length&&e.prop("checked",!e.is(":checked")),l.changeText(),this},l.changeText=function(){var e=o.find("input:checked");if(e.length<=d.selectedTextMax){for(var t=[],n=0;n<e.length;n++)t.push(e[n].nextSibling.nodeValue);l.val(t.join(", "))}else l.val(d.selectedText+" "+e.length);l.trigger("change",{})},o.addItem=function(e,t,n){n=a("<input>").attr("type","checkbox").attr("name",c).attr("value",e).prop("checked",n).click(function(e){e.preventDefault()}),t=a("<div>").addClass("multiselect-item").append(n).append(" "+t).mousedown(function(e){o.rowToggle(),e.preventDefault()}).mouseover(function(){s||(s=!1,o.unselect(),a(this).addClass("selected"))}).mousemove(function(){s&&(s=!1,o.unselect(),a(this).addClass("selected"))});this.append(t)},e.find("option").each(function(e){e=a(this);o.addItem(e.val(),e.html(),e.is(":selected")),l.changeText()}),l.keydown(function(e){switch(e.which){case 38:return void function(e){if(i){e.preventDefault(),s=!0;var t=o.find(".selected").first();if(t.length){o.unselect();e=t.prev();if(e.length){t=e.addClass("selected").position().top,e=o.position().top-e.innerHeight();return t<e&&o.scrollTop(o.scrollTop()+e+t)}}o.scrollTop(o.get(0).scrollHeight).children().last().addClass("selected")}}(e);case 40:return void function(){if(i){s=!0;var e=o.find(".selected").first();if(e.length){o.unselect();var t=e.next();if(t.length){var n=o.outerHeight(),e=t.addClass("selected").innerHeight(),t=t.position().top+e;return n<t&&o.scrollTop(o.scrollTop()+e-o.position().top-n+t)}}o.scrollTop(0).children().first().addClass("selected")}else o.children().length&&o.show()}();case 13:return e.preventDefault(),void(i?o.rowToggle().hide():o.show());case 27:return void o.hide();case 32:return e.preventDefault(),void o.rowToggle()}})})}:console.warn("Required jQuery.")}(jQuery);